<!-- ====================================================================== -->
<!--                                                                        -->
<!--    XML description of the complete vertex detector                     -->
<!--    of the SiD linear collider detector design.                         -->
<!--                                                                        -->
<!--    Contained are the required                                          -->
<!--      ++ global constants used uniquely by this module                  -->
<!--      ++ visualization attributes                                       -->
<!--      ++ the definition of the readout structure and the                -->
<!--         readout segmentation (if necessary)                            -->
<!--      ++ the include statements for the sensitive detectors and         -->
<!--         the corresponding support structure(s)                         -->
<!--                                                                        -->
<!--                                                                        -->
<!--   @author  M.Frank                                                     -->
<!--   @date    14/11/2014                                                  -->
<!--                                                                        -->
<!-- ====================================================================== -->

<lccdd>
    
    <!--  Definition of the readout segmentation/definition  -->
    <readouts>
        <readout name="VertexEndcapHits">
            <id>system:8,barrel:3,layer:4,wedge:6,module:6,sensor:1,side:32:-2,strip:26</id>
        </readout>
    </readouts>
    
    <detectors>
        
        <comment>Vertex Detector Endcaps</comment>
        
        <detector id="2" name="VertexEndcap" type="VertexEndcap_o1_v01" readout="VertexEndcapHits" reflect="true">
            <module name="SiVertexEndcapModule1">
                <trd x1="VertexEndcap_rmin1 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1*cm))" z="(VertexEndcap_rmax - VertexEndcap_rmin1) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true"  vis="SiVertexSensitiveVis"/>
                <module_component thickness="0.013*cm" material="Carbon" vis="SiVertexPassiveVis" />
            </module>
            <module name="SiVertexEndcapModule2">
                <trd x1="VertexEndcap_rmin2 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1*cm))" z="(VertexEndcap_rmax - VertexEndcap_rmin2) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true"  vis="SiVertexSensitiveVis"/>
                <module_component thickness="0.013*cm" material="Carbon" vis="SiVertexPassiveVis" />
            </module>
            <module name="SiVertexEndcapModule3">
                <trd x1="VertexEndcap_rmin3 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1*cm))" z="(VertexEndcap_rmax - VertexEndcap_rmin3) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true"  vis="SiVertexSensitiveVis"/>
                <module_component thickness="0.013*cm" material="Carbon" vis="SiVertexPassiveVis" />
            </module>
            <module name="SiVertexEndcapModule4">
                <trd x1="VertexEndcap_rmin4 * tan(pi/(VertexEndcapModules-0.1))" x2="VertexEndcap_rmax * sin(pi/(VertexEndcapModules-0.1*cm))" z="(VertexEndcap_rmax - VertexEndcap_rmin4) / 2" />
                <module_component thickness="0.005*cm" material="Silicon" sensitive="true"  vis="SiVertexSensitiveVis"/>
                <module_component thickness="0.013*cm" material="Carbon"  vis="SiVertexPassiveVis"/>
            </module>
            <layer id="0"  vis="SiVertexLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin1) / 2" zstart="VertexEndcap_z1" nmodules="(int) VertexEndcapModules" dz="0.011*cm" module="SiVertexEndcapModule1"/>
            </layer>
            <layer id="1"  vis="SiVertexLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin2) / 2" zstart="VertexEndcap_z2" nmodules="(int) VertexEndcapModules" dz="0.011*cm" module="SiVertexEndcapModule2"/>
            </layer>
            <layer id="2"  vis="SiVertexLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin3) / 2" zstart="VertexEndcap_z3" nmodules="(int) VertexEndcapModules" dz="0.011*cm" module="SiVertexEndcapModule3"/>
            </layer>
            <layer id="3"  vis="SiVertexLayerVis">
                <ring r="(VertexEndcap_rmax + VertexEndcap_rmin4) / 2" zstart="VertexEndcap_z4" nmodules="(int) VertexEndcapModules" dz="0.011*cm" module="SiVertexEndcapModule4"/>
            </layer>
        </detector>
    </detectors>
</lccdd>


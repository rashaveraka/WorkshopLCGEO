<!-- ====================================================================== -->
<!--                                                                        -->
<!--    XML description of the complete vertex detector                     -->
<!--    of the SiD linear collider detector design.                         -->
<!--                                                                        -->
<!--    Contained are the required                                          -->
<!--      ++ global constants used uniquely by this module                  -->
<!--      ++ visualization attributes                                       -->
<!--      ++ the definition of the readout structure and the                -->
<!--         readout segmentation (if necessary)                            -->
<!--      ++ the include statements for the sensitive detectors and         -->
<!--         the corresponding support structure(s)                         -->
<!--                                                                        -->
<!--                                                                        -->
<!--   @author  M.Frank                                                     -->
<!--   @date    14/11/2014                                                  -->
<!--                                                                        -->
<!-- ====================================================================== -->

<lccdd>
    <!--  Definition of global dictionary constants          -->
    <define>
    </define>
    
    <!--  Definition of the used visualization attributes    -->
    <display>
        <vis name="SiVertexModuleVis"    alpha="1.0" r="1" g="1"    b="0.6" drawingStyle="wireframe" showDaughters="true"  visible="true"/>
        <vis name="SiVertexSensitiveVis" alpha="1.0" r="1" g="0.2"  b="0.2" drawingStyle="solid"     showDaughters="true"  visible="true"/>
        <vis name="SiVertexPassiveVis"   alpha="1.0" r="0" g="0.2"  b="1"   drawingStyle="solid"     showDaughters="true"  visible="true"/>
        <vis name="SiVertexLayerVis"     alpha="1.0" r="1" g="0.75" b="0"                            showDaughters="false" visible="true"/>
    </display>
    
    <!--  Definition of the readout segmentation/definition  -->
    <readouts>
        <readout name="SiVertexBarrelHits">
            <id>system:8,barrel:3,layer:4,module:14,sensor:2,side:32:-2,strip:24</id>
        </readout>
    </readouts>
    
    <!--  Includes for sensitives and support                -->
    <detectors>
        <detector id="VertexBarrel_ID" name="SiVertexBarrel" type="DD4hep_SiTrackerBarrel" readout="SiVertexBarrelHits" insideTrackingVolume="true">
            
            <comment>Vertex Detector Barrel</comment>
            
            <module name="VtxBarrelModuleInner" vis="SiVertexModuleVis">
                <module_envelope width="10.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.6*mm"/>
                <module_component width="7.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0130*cm" material="Carbon" sensitive="false" vis="SiVertexPassiveVis">
                    <position z="-0.12*mm"/>
                </module_component>
                <module_component width="9.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true" vis="SiVertexSensitiveVis">
                    <position z="0.225*mm"/>
                </module_component>
            </module>
            <module name="VtxBarrelModuleOuter" vis="SiVertexModuleVis">
                <module_envelope width="14.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.6*mm"/>
                <module_component width="11.6*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0130*cm" material="Carbon" sensitive="false" vis="SiVertexPassiveVis">
                    <position z="-0.12*mm"/>
                </module_component>
                <module_component width="13.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true" vis="SiVertexSensitiveVis">
                    <position z="0.210*mm"/>
                </module_component>
            </module>
            <layer module="VtxBarrelModuleInner" id="1" vis="SiVertexLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r1 - 0.2*cm" outer_r="VertexBarrel_r1 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0*rad" nphi="18" phi0="0.2618*rad" rc="VertexBarrel_r1" dr="-1.15*mm"/>
                <z_layout dr="0.0*mm" z0="0.0*mm" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="2" vis="SiVertexLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r2 - 0.2*cm" outer_r="VertexBarrel_r2 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0*rad" nphi="18" phi0="0.2618*rad" rc="VertexBarrel_r2" dr="-1.13*mm"/>
                <z_layout dr="0.0*mm" z0="0.0*mm" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="3" vis="SiVertexLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r3 - 0.2*cm" outer_r="VertexBarrel_r3 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0*rad" nphi="24" phi0="0.0*rad" rc="VertexBarrel_r3" dr="-0.89*mm"/>
                <z_layout dr="0.0*mm" z0="0.0*mm" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="4" vis="SiVertexLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r4 - 0.2*cm" outer_r="VertexBarrel_r4 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0*rad" nphi="30" phi0="0.1309*rad" rc="VertexBarrel_r4" dr="0.81*mm"/>
                <z_layout dr="0.0*mm" z0="0.0*mm" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter" id="5" vis="SiVertexLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r5 - 0.2*cm" outer_r="VertexBarrel_r5 + 0.2*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0*rad" nphi="36" phi0="0.0*rad" rc="VertexBarrel_r5" dr="0.77*mm"/>
                <z_layout dr="0.0*mm" z0="0.0*mm" nz="1"/>
            </layer>
        </detector>
        
    </detectors>
</lccdd>



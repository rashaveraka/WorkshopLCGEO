<detector id="ILDDetID_HCAL" name="HcalEndcap" type="SHcalSc04_Endcaps" readout="HcalEndcapsCollection"  vis="GreenVis" calorimeterType="HAD_ENDCAP">
    <comment>Hadron Calorimeter Endcap</comment>

    <envelope vis="ILD_HCALVis">    
      <shape type="BooleanShape" operation="Subtraction" material="Air" >
        <shape type="BooleanShape" operation="Subtraction" material="Air">
	  <shape type="Tube" rmin="0.0" rmax="Hcal_outer_radius" dz="Hcal_endcap_zmin+Hcal_outer_radius-Hcal_inner_radius"/>
	  <shape type="Box" dx="Hcal_endcap_center_box_size/2." dy="Hcal_endcap_center_box_size/2." dz="Hcal_endcap_zmin+Hcal_outer_radius-Hcal_inner_radius+1.0*mm"/>
        </shape>
	<shape type="Tube" rmin="0.0" rmax="Hcal_outer_radius+1.0*mm" dz="Hcal_endcap_zmin-0.1*mm"/>
      </shape>
      <rotation x="0" y="0" z="0"/>
    </envelope>

    <material name="Steel235"/><!-- radiator and the thickness has been defined in the main xml file-->

    <dimensions numsides="16"><!-- the detail demensions list. there are 16 in this version. -->
      <dimensions id="1"  y_offset= "543.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="1087.0*mm"/>
      <dimensions id="2"  y_offset= "905.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="1811.0*mm"/>
      <dimensions id="3"  y_offset="1086.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2173.0*mm"/>
      <dimensions id="4"  y_offset="1268.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="5"  y_offset="1268.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="6"  y_offset="1449.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2898.0*mm"/>
      <dimensions id="7"  y_offset="1449.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2898.0*mm"/>
      <dimensions id="8"  y_offset="1630.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="9"  y_offset="1630.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="10" y_offset="1449.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2898.0*mm"/>
      <dimensions id="11" y_offset="1449.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2898.0*mm"/>
      <dimensions id="12" y_offset="1268.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="13" y_offset="1268.0*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2536.0*mm"/>
      <dimensions id="14" y_offset="1086.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="2173.0*mm"/>
      <dimensions id="15" y_offset= "905.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="1811.0*mm"/>
      <dimensions id="16" y_offset= "543.5*mm" dim_x="375.0*mm" dim_y="1287.0*mm" dim_z="1087.0*mm"/>
    </dimensions>

    <layer repeat="48"><!-- dim_y="1287.0*mm" is for 48 layers of such chamber and radiator(20.0*mm) thickness -->
      <!-- slice: from inner -->  
      <slice material = "G4_POLYSTYRENE" thickness = "Hcal_scintillator_thickness" sensitive = "yes" vis="CyanVis"   />
      <!-- <slice material = "FR4" thickness = "Hcal_PCB_thickness" /> -->
      <slice material = "PCB" thickness = "Hcal_PCB_thickness"                                       vis="Invisible" />
      <slice material = "Cu"  thickness = "Hcal_Cu_thickness"                                        vis="Invisible" />
      <slice material = "Air" thickness = "Hcal_fiber_gap"                                           vis="YellowVis" />
      <!-- slice: to outer -->  
    </layer>
</detector>

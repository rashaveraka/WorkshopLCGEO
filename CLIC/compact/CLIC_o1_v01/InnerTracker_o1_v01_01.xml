<lccdd>
    
    <comment>Tracking detectors</comment>
    <detectors>
        <detector name="InnerTrackers" type="DD4hep_SubdetectorAssembly" vis="ITVis">
            
            <shape type="BooleanShape" operation="Subtraction" material="Air" >
                <shape type="BooleanShape" operation="Subtraction">
                    <shape type="BooleanShape" operation="Subtraction">
                        <shape type="BooleanShape" operation="Subtraction">
                            <shape type="BooleanShape" operation="Subtraction"  >
                                <shape type="Tube" rmin="0" rmax="InnerTracker_outer_radious" dz="InnerTracker_half_length"/>
                                <shape type="Cone" rmin1="0" rmax1="CentralBeamPipe_rmax" rmin2="0" rmax2="ConeBeamPipe_rmax" z="(ConeBeamPipe_zmax-CentralBeamPipe_zmax)/2.0"/>
                                <position x="0" y="0" z="(ConeBeamPipe_zmax-CentralBeamPipe_zmax)/2.0 + CentralBeamPipe_zmax" />
                            </shape>
                            <shape type="Cone" rmin2="0" rmax2="CentralBeamPipe_rmax" rmin1="0" rmax1="ConeBeamPipe_rmax" z="(ConeBeamPipe_zmax-CentralBeamPipe_zmax)/2.0"/>
                            <position x="0" y="0" z="-(ConeBeamPipe_zmax-CentralBeamPipe_zmax)/2.0 - CentralBeamPipe_zmax" />
                        </shape>
                        <shape type="Tube" rmin="0" rmax="ConeBeamPipe_rmax" dz="(InnerTracker_half_length-ConeBeamPipe_zmax)/2.0+env_safety"/>
                        <position x="0" y="0" z="(InnerTracker_half_length-ConeBeamPipe_zmax)/2.0+ConeBeamPipe_zmax" />
                    </shape>
                    <shape type="Tube" rmin="0" rmax="ConeBeamPipe_rmax" dz="(InnerTracker_half_length-ConeBeamPipe_zmax)/2.0+env_safety"/>
                    <position x="0" y="0" z="-(InnerTracker_half_length-ConeBeamPipe_zmax)/2.0-ConeBeamPipe_zmax" />
                </shape>
                <shape type="Tube" rmin="0" rmax="Vertex_outer_radious" dz="Vertex_half_length"/>
            </shape>
            
            
            <comment>Outer Tracker Assembly</comment>
            <composite name="InnerTrackerBarrel"/>
            <composite name="InnerTrackerEndcap"/>
        </detector>
    </detectors>
    
    
    <display>
        <vis name="InnerTrackerLayerVis"   alpha="1.0" r="1.0" g="1.0" b="0.6" showDaughters="true" visible="true"/>
        <vis name="InnerTrackerModuleVis"  alpha="0.1" r="0.0" g="1.0" b="0.6" showDaughters="false" visible="true"/>
        <vis name="InnerTrackerForwardVis" alpha="1.0" r="0.8" g="0.1" b="0.1" showDaughters="false" visible="true"/>
    </display>
    
    <!--  Definition of the readout segmentation/definition  -->
    <readouts>
        <readout name="InnerTrackerBarrelHits">
            <id>system:5,side:-2,layer:9,module:8,sensor:8,barrel:3</id>
        </readout>
        <readout name="InnerTrackerEndcapHits">
            <id>system:8,barrel:3,layer:4,module:14,sensor:2,side:32:-2,strip:20</id>
        </readout>
    </readouts>
    
    <detectors>
        <detector id="16" name="InnerTrackerBarrel" type="TrackerBarrel_o1_v01" readout="InnerTrackerBarrelHits" region="SiTrackerBarrelRegion" limits="SiTrackerBarrelRegionLimitSet">
            <envelope vis="OTVis">
                <shape type="Assembly"/>
            </envelope>
            <comment>Silicon Outer Tracker Barrel</comment>
            
            <module name="SiTrackerModule_Layer0" vis="InnerTrackerModuleVis">
                <module_envelope width="97.79*mm" length="97.79*mm" thickness="0.3*cm"/>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>
                <module_component width="92.031*mm" length="92.031*mm" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.0038*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.00038*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>
            </module>
            <module name="SiTrackerModule_Layer1" vis="InnerTrackerModuleVis">
                <module_envelope width="97.79*mm" length="97.79*mm" thickness="0.3*cm"/>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.02*cm" material="PEEK" sensitive="false">
                    <position z="-0.14*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="-0.122*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.18*cm" material="Rohacell31_50D" sensitive="false">
                    <position z="-0.024*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.0175*cm" material="Epoxy" sensitive="false">
                    <position z="0.07475*cm" />
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.016*cm" material="CarbonFiber_50D" sensitive="false">
                    <position z="0.0915*cm" />
                </module_component>
                <module_component width="92.031*mm" length="92.031*mm" thickness="0.03*cm" material="Silicon" sensitive="true">
                    <position z="0.1145*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.00048*cm" material="Silicon" sensitive="false">
                    <position z="0.12974*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.0051*cm" material="Kapton" sensitive="false">
                    <position z="0.1375*cm"/>
                </module_component>
                <module_component width="97.79*mm" length="97.79*mm" thickness="0.00052*cm" material="Copper" sensitive="false">
                    <position z="0.146*cm"/>
                </module_component>
            </module>
            <layer module="SiTrackerModule_Layer0" id="0" vis="InnerTrackerLayerVis">
                <barrel_envelope inner_r="215.075*mm" outer_r="245.0*mm" z_length="578 * 2*mm"/>
                <rphi_layout phi_tilt="0.17506*rad" nphi="20" phi0="0." rc="(216.355 + 5.0)*mm" dr="0.0"/>
                <z_layout dr="4.0*mm" z0="512.128*mm" nz="13"/>
            </layer>
            <layer module="SiTrackerModule_Layer1" id="1" vis="InnerTrackerLayerVis">
                <barrel_envelope inner_r="465.075*mm" outer_r="501.0*mm" z_length="749.8 * 2*mm"/>
                <rphi_layout phi_tilt="0.12217*rad" nphi="38" phi0="0.087*rad" rc="(466.355 + 5.0)*mm" dr="0.0"/>
                <z_layout dr="4.0*mm" z0="690.605*mm" nz="17"/>
            </layer>
        </detector>
    </detectors>
    
    <detectors>
        <detector id="18" name="InnerTrackerEndcap" type="DD4hep_SiTrackerEndcap2" readout="InnerTrackerEndcapHits" reflect="true">
            
            <comment>Silicon Outer Tracker Endcaps</comment>
            
            <module name="Module1" vis="InnerTrackerModuleVis">
                <trd x1="36.112*mm" x2="46.635*mm" z="100.114/2*mm" />
                <module_component thickness="0.00052*cm"   material="Copper" />
                <module_component thickness="0.0051*cm"   material="Kapton" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.18*cm" material="Rohacell31_50D" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.0175*cm" material="Epoxy" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.0051*cm"   material="Kapton" />
                <module_component thickness="0.00052*cm"   material="Copper" />
            </module>
            <module name="Module2" vis="InnerTrackerModuleVis">
                <trd x1="45.245*mm" x2="54.680*mm" z="89.773/2*mm" />
                <module_component thickness="0.00079*cm"   material="Copper" />
                <module_component thickness="0.0078*cm"   material="Kapton" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.18*cm" material="Rohacell31_50D" />
                <module_component thickness="0.016*cm" material="CarbonFiber_50D" />
                <module_component thickness="0.0175*cm" material="Epoxy" />
                <module_component thickness="0.03*cm"   material="Silicon" sensitive="true" />
                <module_component thickness="0.00048*cm" material="Silicon" />
                <module_component thickness="0.0078*cm"   material="Kapton" />
                <module_component thickness="0.00079*cm"   material="Copper" />
            </module>
            <layer id="1">
                <ring r="256.716*mm-1*cm" zstart="(787.105+1.75)*mm" nmodules="24" dz="1.75*mm" module="Module1"/>
                <ring r="353.991*mm-1*cm" zstart="(778.776+1.75)*mm" nmodules="32" dz="1.75*mm" module="Module1"/>
                <ring r="449.180*mm-1*cm" zstart="(770.544+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module1"/>
            </layer>
            <layer id="2">
                <ring r="256.716*mm-1*cm" zstart="(1073.293+1.75)*mm" nmodules="24" dz="1.75*mm" module="Module1"/>
                <ring r="353.991*mm-1*cm" zstart="(1064.966+1.75)*mm" nmodules="32" dz="1.75*mm" module="Module1"/>
                <ring r="449.180*mm-1*cm" zstart="(1056.734+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module1"/>
                <ring r="538.520*mm-1*cm" zstart="(1048.466+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module2"/>
            </layer>
            <layer id="3">
                <ring r="256.716*mm-1*cm" zstart="(1353.786+1.75)*mm" nmodules="24" dz="1.75*mm" module="Module1"/>
                <ring r="353.991*mm-1*cm" zstart="(1345.457+1.75)*mm" nmodules="32" dz="1.75*mm" module="Module1"/>
                <ring r="449.180*mm-1*cm" zstart="(1337.225+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module1"/>
                <ring r="538.520*mm-1*cm" zstart="(1328.957+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module2"/>
            </layer>
            <layer id="4">
                <ring r="256.716*mm-1*cm" zstart="(1639.164+1.75)*mm" nmodules="24" dz="1.75*mm" module="Module1"/>
                <ring r="353.991*mm-1*cm" zstart="(1630.835+1.75)*mm" nmodules="32" dz="1.75*mm" module="Module1"/>
                <ring r="449.180*mm-1*cm" zstart="(1622.603+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module1"/>
                <ring r="538.520*mm-1*cm" zstart="(1614.335+1.75)*mm" nmodules="40" dz="1.75*mm" module="Module2"/>
            </layer>
        </detector>
    </detectors>
    
    
    
</lccdd>




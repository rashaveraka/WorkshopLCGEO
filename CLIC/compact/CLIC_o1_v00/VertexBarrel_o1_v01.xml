<!-- ====================================================================== -->
<!--                                                                        -->
<!--    XML description of the complete vertex detector                     -->
<!--    of the SiD linear collider detector design.                         -->
<!--                                                                        -->
<!--    Contained are the required                                          -->
<!--      ++ global constants used uniquely by this module                  -->
<!--      ++ visualization attributes                                       -->
<!--      ++ the definition of the readout structure and the                -->
<!--         readout segmentation (if necessary)                            -->
<!--      ++ the include statements for the sensitive detectors and         -->
<!--         the corresponding support structure(s)                         -->
<!--                                                                        -->
<!--                                                                        -->
<!--   @author  M.Frank                                                     -->
<!--   @date    14/11/2014                                                  -->
<!--                                                                        -->
<!-- ====================================================================== -->

<lccdd>
    <!--  Definition of global dictionary constants          -->
    <define>
    </define>
    
    <!--  Definition of the used visualization attributes    -->
    <display>
        <vis name="SiVertexModuleVis"    alpha="1.0" r="1" g="1"    b="0.6" drawingStyle="wireframe" showDaughters="true"  visible="true"/>
        <vis name="SiVertexSensitiveVis" alpha="1.0" r="1" g="0.2"  b="0.2" drawingStyle="solid"     showDaughters="true"  visible="true"/>
        <vis name="SiVertexPassiveVis"   alpha="1.0" r="0" g="0.2"  b="1"   drawingStyle="solid"     showDaughters="true"  visible="true"/>
        <vis name="SiVertexLayerVis"     alpha="1.0" r="1" g="0.75" b="0"                            showDaughters="false" visible="true"/>
    </display>
    
    <!--  Definition of the readout segmentation/definition  -->
    <readouts>
        <readout name="VertexBarrelHits">
            <id>system:8,barrel:3,layer:4,module:14,sensor:2,side:32:-2,strip:24</id>
        </readout>
    </readouts>
    
    <!--  Includes for sensitives and support                -->
    <detectors>
        <detector id="VertexBarrel_ID" name="VertexBarrel" type="VertexBarrel_o1_v01" readout="VertexBarrelHits" insideTrackingVolume="true">
            
            <comment>Vertex Detector Barrel</comment>
            
            <module name="VtxBarrelModuleInner1" vis="SiVertexBarrelModuleVis">
                <module_envelope width="10.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.2*mm"/>
                <module_component width="7.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0065*cm" material="Carbon" sensitive="false">
                    <position z="0.0050*cm"/>
                </module_component>
                <module_component width="9.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="-0.0050*cm"/>
                </module_component>
            </module>
            <module name="VtxBarrelModuleInner2" vis="SiVertexBarrelModuleVis">
                <module_envelope width="10.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.2*mm"/>
                <module_component width="9.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="0.0050*cm"/>
                </module_component>
                <module_component width="7.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0065*cm" material="Carbon" sensitive="false">
                    <position z="-0.0050*cm"/>
                </module_component>
            </module>
            <module name="VtxBarrelModuleOuter1" vis="SiVertexBarrelModuleVis">
                <module_envelope width="14.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.2*mm"/>
                <module_component width="11.6*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0065*cm" material="Carbon" sensitive="false">
                    <position z="0.0050*cm"/>
                </module_component>
                <module_component width="13.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="-0.0050*cm"/>
                </module_component>
            </module>
            <module name="VtxBarrelModuleOuter2" vis="SiVertexBarrelModuleVis">
                <module_envelope width="14.0*mm" length="(VertexBarrel_zmax - 0.1*cm) * 2" thickness="0.2*mm"/>
                <module_component width="13.8*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.005*cm" material="Silicon" sensitive="true">
                    <position z="0.0050*cm"/>
                </module_component>
                <module_component width="11.6*mm" length="(VertexBarrel_zmax - 0.15*cm) * 2" thickness="0.0065*cm" material="Carbon" sensitive="false">
                    <position z="-0.0050*cm"/>
                </module_component>
            </module>
            <layer module="VtxBarrelModuleInner1" id="0" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r1 - 0.08*cm" outer_r="VertexBarrel_r1 + 0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="18" phi0="0.2618" rc="VertexBarrel_r1" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleInner2" id="1" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r1 + 1.7*mm-0.08*cm" outer_r="VertexBarrel_r1 + 1.7*mm+0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="18" phi0="0.2618" rc="VertexBarrel_r1+1.7*mm" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter1" id="2" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r3 - 0.08*cm" outer_r="VertexBarrel_r3 + 0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="24" phi0="0.0" rc="VertexBarrel_r3" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter2" id="3" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r3 + 1.7*mm- 0.08*cm" outer_r="VertexBarrel_r3 + 1.7*mm+0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="24" phi0="0.0" rc="VertexBarrel_r3+1.7*mm" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter1" id="4" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r5 - 0.08*cm" outer_r="VertexBarrel_r5 + 0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="36" phi0="0.0" rc="VertexBarrel_r5" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>
            <layer module="VtxBarrelModuleOuter2" id="5" vis="SiVertexBarrelLayerVis">
                <barrel_envelope inner_r="VertexBarrel_r5 +1.7*mm-0.08*cm" outer_r="VertexBarrel_r5 + 1.7*mm+0.08*cm" z_length="VertexBarrel_zmax * 2"/>
                <rphi_layout phi_tilt="0.0" nphi="36" phi0="0.0" rc="VertexBarrel_r5+1.7*mm" dr="-0.6*mm"/>
                <z_layout dr="0.0" z0="0.0" nz="1"/>
            </layer>        </detector>
        
    </detectors>
</lccdd>


